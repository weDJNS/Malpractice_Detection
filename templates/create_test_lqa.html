{% extends 'professor_dashboard.html' %}
{% block body %}
{% from "includes/_formhelpers.html" import render_field %}
<div class="row align-items-center d-flex  justify-content-center">
  <div class="col-12 mb-4">
      <div class="card border-light shadow-sm components-section align-items-center d-flex  justify-content-center">
          <div class="card-body align-items-center d-flex justify-content-center">     
              <div class="row mb-4">
                  <div class="col-lg-12 col-sm-16">
                    <h3 class="h3 text-center">CREATE EXAM</h3>  
                  </div>
                  <div class="card-body">
                              <form method="POST" action="" enctype="multipart/form-data">
                                <div class="mb-4">
                                  <div class="form-group">
                                    {{ form.csrf_token }}
      {{render_field(form.subject, class="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.topic, class="form-control")}}
    </div>
    <div class="row">
      <div class="form-group col-6">
        {{render_field(form.start_date, class="form-control")}}
      </div>
      <div class="form-group col-6">
        {{render_field(form.start_time, class="form-control")}}
      </div>
    </div>
    <div class="row">
      <div class="form-group col-6">
        {{render_field(form.end_date, class="form-control")}}
      </div>
      <div class="form-group col-6">
        {{render_field(form.end_time, class="form-control")}}
      </div>
    </div>
    <div class="form-group">
      {{render_field(form.duration, class="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.password, class="form-control")}}
    </div>
    <div class="form-group">
      <label for="questions">Number of Questions</label>
      <input class="form-control" id="questions" name="questions" type="text" value="" oninput="noofquestions(this);">  
    </div>
    <div id="textfields">

    </div>
    
    
   
    <p><input type="submit" class="btn btn-primary" value="Create Exam" style="background: #4a148c; border:#4a148c;"></p>
  </form>
  </div>
</div>
</div>
</div>
  </div>
</div>
<script>
  function noofquestions(elem){
    $("#textfields").empty(element);
    for(var i=0;i<elem.value;i++)
    {
      if (i==0)
      {
        var element= `<div class="row">
      <div class="form-group col-9">
        <label for='question`+i+`'>Question</label>
        <textarea class="form-control" placeholder="Type your question..." id="question`+i+`" name="question`+i+`" rows="4"></textarea>
      </div>
      <div class="form-group col-3">
        <label for='marks`+i+`'>Mark</label>
        <input class='form-control' id='mark`+i+`' name='mark`+i+`' type='text' value=''>
      </div>
    </div>`;
     
      }
      else{
        var element= `<div class="row">
      <div class="form-group col-9">
        <textarea class="form-control" placeholder="Type your question..." id="question`+i+`" name="question`+i+`" rows="4"></textarea>
      </div>
      <div class="form-group col-3">
        <input class='form-control' id='mark`+i+`' name='mark`+i+`' type='text' value=''>
      </div>
    </div>`;
      }
      $("#textfields").append(element);
    }
  }
</script>
{% endblock %}